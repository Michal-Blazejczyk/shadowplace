(window.webpackJsonpIWA=window.webpackJsonpIWA||[]).push([[8],{37:function(t,n,r){"use strict";r.r(n),function(t){r.d(n,"default",(function(){return o}));var e=r(3);class o{constructor(t,n){this.tracker=t,this.conf=n,this.scrollEndDelayID=null,this.scrollMax=0,this.scrollCurrent=0}init(){var n=this;"complete"===document.readyState||"loaded"===document.readyState?this.appendEvents():t.addEventListener("load",(function(){n.appendEvents()}))}appendEvents(){var n=this;Object.entries(this.conf).forEach((function([r,e]){let o=e,c=r;-1===["html","body"].indexOf(String(o).toLowerCase())&&"scrollToVar"!==c||(o=t),"scrollToVar"===c&&(c="scroll"),n[c+"_max"]=0,n[c+"_current"]=0;const s=o===t?t:t.document.querySelector(o);s&&n.onScrollEnd(s,c,(function(){n.sendData(c)}))}))}onScrollEnd(t,n,r){var e=this;t.addEventListener("scroll",(function(){clearTimeout(e.scrollEndDelayID),e.scrollEndDelayID=setTimeout(r.bind(e),150),e[n+"_current"]=e.getScroll(t),e[n+"_max"]<e[n+"_current"]&&(e[n+"_max"]=e[n+"_current"])}))}getScroll(n){const r=n===t?n.scrollY:n.scrollTop;return Math.round(r)}sendData(t){const n=new e.a;n.set(`l_${t}_current`,String(this[t+"_current"]),"page"),n.set(`x_${t}_max`,String(this[t+"_max"]),"page"),this.tracker.send(["info",{customVariables:n}])}getUnloadData(){var t=this;const n={};return Object.keys(this.conf).forEach((function(r){let e=r;"scrollToVar"===r&&(e="scroll"),n[e+"_max"]=t[e+"_max"],n[e+"_current"]=t[e+"_current"]})),n}}}.call(this,r(1))}}]);